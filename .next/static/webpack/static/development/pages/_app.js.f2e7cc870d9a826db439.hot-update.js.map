{"version":3,"file":"static/webpack/static/development/pages/_app.js.f2e7cc870d9a826db439.hot-update.js","sources":["webpack:///./store.js"],"sourcesContent":["import { createStore, combineReducers, applyMiddleware } from 'redux'\nimport thunk from 'redux-thunk'\nimport { composeWithDevTools } from 'redux-devtools-extension' \n\nconst initailState = {\n  count: 0\n}\n\nconst userInitailState = {\n  username: 'Nick'\n}\n\nfunction countReducer (state = initailState, action) {\n  switch (action.type) {\n    case 'ADD':\n      return {\n        ...state,\n        count: state.count + action.num\n      }\n    default:\n      return state\n  }\n}\n\nfunction userReducer (state = userInitailState, action) {\n  switch (action.type) {\n    case 'UPDATE_USERNAME':\n      return {\n        ...state,\n        username: action.name\n      }\n    default:\n      return state\n  }\n}\n\nconst allReducer = combineReducers({\n  counter: countReducer,\n  user: userReducer\n})\n\n// 监听store状态变化的方法\n// store.subscribe(() => {\n//   console.log('changed', store.getState())\n// })\n\nexport function add (num) {\n  return {\n    type: 'ADD',\n    num\n  }\n}\n\nfunction asyncAdd (num) {\n  return (dispatch) => {\n    setTimeout(() => {\n      dispatch(add(num))\n    }, 2000)\n  }\n}\n\nexport default function initializeStore (state) {\n  const store = createStore(allReducer, Object.assign({}, { counter: initailState, user: userInitailState }, state), composeWithDevTools(applyMiddleware(thunk)))\n  return store\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AACA;AADA;AAIA;AACA;AADA;AACA;AAGA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAEA;AAFA;AACA;AAGA;AACA;AAPA;AASA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAEA;AAFA;AACA;AAGA;AACA;AAPA;AASA;AACA;AACA;AACA;AACA;AAFA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;;;;A","sourceRoot":""}